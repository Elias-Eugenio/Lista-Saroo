<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lista de Jogos do Sega Saroo</title>

<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Rajdhani',sans-serif;
  background:#222;
  color:white;
  margin:0;
  padding:20px;
}

.logo{text-align:center;margin-bottom:30px;}
.logo img{width:400px;max-width:95%;}

#counter{text-align:center;margin-bottom:15px;font-size:13px;font-style:italic;}

#searchBar{
  width:100%;
  max-width:500px;
  display:block;
  margin:0 auto 10px auto;
  padding:12px;
  border-radius:8px;
  border:none;
}

.action-buttons{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-bottom:10px;
}

#addGameBtn,#trashBtn{
  padding:10px 20px;
  border-radius:8px;
  border:none;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

#addGameBtn{background:#6a00ff;}
#trashBtn{
  background:#b00020;
  transition:0.3s;
}
#trashBtn:hover{background:#ff003c;}

#gameList{
  display:grid;
  gap:15px;
}
@media(max-width:600px){#gameList{grid-template-columns:repeat(3,1fr);}}
@media(min-width:601px) and (max-width:1024px){#gameList{grid-template-columns:repeat(4,1fr);}}
@media(min-width:1025px){#gameList{grid-template-columns:repeat(8,1fr);}}

.card{
  background:#1a1a1a;
  border-radius:12px;
  padding:10px;
  text-align:center;
  transition:0.3s;
  font-size:12px; 
  position:relative;
}

.card img{
  width:100%;
  border-radius:8px;
  filter:grayscale(100%) brightness(0.8);
  transition:0.4s;
}
.card:hover img{
  filter:grayscale(0%) brightness(1);
  transform:scale(1.09);
  box-shadow:0 0 15px #6a00ff;
}

.delete-btn{
  position:absolute;
  top:6px;
  right:6px;
  background:#b00020;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
  padding:4px 6px;
  font-size:12px;
  transition:0.3s;
}
.delete-btn:hover{
  background:#ff003c;
  box-shadow:0 0 8px #ff003c;
  transform:scale(1.1);
}

.stars span{
  cursor:pointer;
  font-size:18px;
  margin:2px;
  color:#555;
}
.stars span.active{color:#ff003c;}
.rating-number{
  font-size:10px;
  opacity:0.7;
}

.fade-out{
  opacity:0;
  transform:scale(0.8);
  transition:0.4s ease;
}

/* Modal geral */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  justify-content:center;
  align-items:center;
  z-index:9999;
}

.modal-content{
  background:#1a1a1a;
  padding:25px;
  border-radius:12px;
  width:300px;
  text-align:center;
}

.modal-content input{
  width:100%;
  padding:8px;
  margin:10px 0;
  border-radius:6px;
  border:none;
}

/* Modal screenshot / detalhes */
#screenshotModal .modal-content{
  width:auto;
  max-width:90%;
  max-height:90%;
}
#screenshotModal img{
  width:100%;
  height:auto;
  border-radius:12px;
  margin-bottom:10px;
}
#screenshotModal p{
  margin:3px 0;
  font-size:14px;
}

/* AnimaÃ§Ãµes screenshot */
@keyframes zoomIn {0%{transform:scale(0.5);opacity:0;}100%{transform:scale(1);opacity:1;}}
@keyframes zoomOut {0%{transform:scale(1);opacity:1;}100%{transform:scale(0.5);opacity:0;}}
#screenshotModal.show{display:flex; animation:zoomIn 0.4s ease forwards;}
#screenshotModal.hide{animation:zoomOut 0.3s forwards;}
</style>
</head>
<body>

<audio id="selectSound" src="Sound/Select.mp3"></audio>
<audio id="starSound" src="Sound/Star.mp3"></audio>

<div class="logo">
  <img src="https://raw.githubusercontent.com/Elias-Eugenio/Lista-Saroo/refs/heads/main/Img/Logo%20digital%20com%20chamas%20estilizadas%20v2.png">
</div>

<div id="counter"></div>
<input type="text" id="searchBar" placeholder="Buscar jogo...">

<div class="action-buttons">
  <button id="addGameBtn">âž• Novo Jogo</button>
  <button id="trashBtn">â™» Lixeira</button>
</div>

<div id="gameList"></div>

<!-- Modal Novo Jogo -->
<div id="gameModal" class="modal">
  <div class="modal-content">
    <h3>Novo Jogo</h3>
    <input type="text" id="newGameInput" placeholder="Nome do jogo">
    <div style="display:flex;gap:10px;justify-content:center;">
      <button id="saveGameBtn">Salvar</button>
      <button id="cancelGameBtn" style="background:#555;">Cancelar</button>
    </div>
  </div>
</div>

<!-- Modal Lixeira -->
<div id="trashModal" class="modal">
  <div class="modal-content">
    <h3>â™» Lixeira</h3>
    <div id="trashList"></div>
    <button id="closeTrashBtn" style="background:#555;">Fechar</button>
  </div>
</div>

<!-- Modal Screenshot / Detalhes -->
<div id="screenshotModal" class="modal">
  <div class="modal-content">
    <h3 id="screenshotTitle"></h3>
    <img id="screenshotImg" src="">
    <p id="screenshotGenre"></p>
    <p id="screenshotYear"></p>
    <button id="closeScreenshotBtn" style="margin-top:10px; background:#555; color:white; padding:8px; border:none; border-radius:6px;">Fechar</button>
  </div>
</div>

<script>
// Base e active games
const baseGames=[
  "Astal",
"Asuka Limited",
"Batsugun â€“ Tribute Boosted Arrange",
"Battle Arena Toshinden",
"Blast Wind",
"Bokan to Ippatsu",
"Bulk Slash",
"Burning Rangers",
"Castlevania â€“ Symphony of the Night",
"Chase H.Q. Plus",
"Choro Q Park",
"Clockwork Knight",
"Cotton 2",
"Cotton Boomerang",
"Cyberbots â€“ Fullmetal Madness",
"Dark Savior",
"Daytona USA",
"Dead or Alive",
"DecAthlete",
"Die Hard Arcade",
"Dragon Ball Z â€“ Shinbutouden",
"Dragon Ball Z â€“ The Legend",
"Dragon Force",
"Dungeons & Dragons Collection â€“ Tower of",
"Earthworm Jim 2",
"Elevator Action Returns",
"Fighters Megamix",
"Final Fight Revenge",
"Fire Pro Gaiden Blazing Tornado",
"Galaxy Fight",
"Garou Densetsu 3 â€“ Road to the Final Victo",
"Gex",
"Gokujo Parodius Da! Deluxe Pack",
"Guardian Heroes",
"Hokuto no Ken",
"In the Hunt",
"Keio Flying Squadron 2",
"Kyuutenkai",
"Linkle Liver Story",
"Magic Knight Rayearth",
"Marvel Super Heroes vs. Street Fighter",
"Marvel Super Heroes",
"Mega Man 8",
"Metal Slug â€“ Super Vehicle-001",
"Mortal Kombat Trilogy",
"Mortal Kombat 3 Ultimate",
"Mortal Kombat II",
"NBA Jam â€“ Tournament Edition",
"NiGHTS into Dreams",
"Panzer Dragoon",
"Panzer Dragoon II Zwei",
"Pocket Fighter",
"Primal Rage",
"Rabbit",
"Radiant Silvergun",
"Rayman",
"Real Bout Garou Densetsu",
"Real Bout Garou Densetsu Special",
"Revolution X â€“ Music Is the Weapon",
"Road Rash",
"Rockman X3",
"Rockman X4",
"Rockman 8",
"Sakura Wars Disco 2",
"Sakura Wars Disco 1",
"Saturn Bomberman",
"Saturn Bomberman Fight!!",
"Sega Ages â€“ OutRun",
"Sega Ages â€“ Power Drift",
"Sega Rally Championship",
"Segata Sanshirou â€“ Shinken Yuugi",
"Shining Wisdom",
"Shinobi-X",
"Silhouette Mirage",
"Snatcher",
"Sonic Jam",
"Sonic R",
"Sonic Wings Special",
"Space Jam",
"Street Fighter Collection (Disc 2)",
"Street Fighter Zero 3",
"Street Fighter Collection (Disc 1)",
"Street Fighter â€“ The Movie",
"Street Fighter Zero",
"Street Fighter Zero 2",
"Street Fighter Zero 2 Dash",
"Super Puzzle Fighter II",
"Super Tempo",
"Tenchi Muyo! Rensa Hitsuyou",
"The King of Fighters 95",
"The King of Fighters 96",
"The King of Fighters 97",
"Time Bokan Series â€“ Bokan to Ippatsu! Dorc",
"Tomb Raiders",
"Tyrush Deppy",
"Twinkle Star Sprites (Disc 1)",
"Twinkle Star Sprites (Disc 2)",
"Vampire Savior",
"Virtua Fighter 2",
"Virtua Fighter Kids",
"Virtua Fighter Remix",
"Virtua Racing",
"Waku Waku 7",
"World Heroes Perfect",
"WWF WrestleMania â€“ The Arcade Game",
"X-Men â€“ Children of the Atom",
"X-Men Arcade",
"X-Men vs. Street Fighter",
"Yakyuuken Special" // coloque os outros aqui
];
let activeGames = JSON.parse(localStorage.getItem("activeGames")) || [...baseGames];
let trashGames = JSON.parse(localStorage.getItem("trashGames")) || [];

// Dados dos jogos
const gameInfo = {
"Astal": { genre: "Plataforma", year: 1995 },
"Asuka Limited": { genre: "Luta", year: 1997 },
"Batsugun â€“ Tribute Boosted Arrange": { genre: "Shoot 'em up", year: 1996 },
"Battle Arena Toshinden": { genre: "Luta", year: 1995 },
"Blast Wind": { genre: "Shoot 'em up", year: 1997 },
"Bokan to Ippatsu": { genre: "AÃ§Ã£o", year: 1996 },
"Bulk Slash": { genre: "AÃ§Ã£o", year: 1997 },
"Burning Rangers": { genre: "AÃ§Ã£o", year: 1998 },
"Castlevania â€“ Symphony of the Night": { genre: "AÃ§Ã£o/Aventura", year: 1998 },
"Chase H.Q. Plus": { genre: "Corrida", year: 1996 },
"Clockwork Knight": { genre: "Plataforma", year: 1995 },
"Cotton 2": { genre: "Shoot 'em up", year: 1997 },
"Cyberbots â€“ Fullmetal Madness": { genre: "Luta", year: 1996 },
"Dark Savior": { genre: "RPG", year: 1996 },
"Daytona USA": { genre: "Corrida", year: 1995 },
"Dead or Alive": { genre: "Luta", year: 1997 },
"DecAthlete": { genre: "Esporte", year: 1996 },
"Die Hard Arcade": { genre: "Beat 'em up", year: 1996 },
"Dragon Ball Z â€“ Shinbutouden": { genre: "Luta", year: 1995 },
"Dragon Force": { genre: "RPG EstratÃ©gico", year: 1996 },
"Elevator Action Returns": { genre: "AÃ§Ã£o", year: 1997 },
"Fighters Megamix": { genre: "Luta", year: 1996 },
"Final Fight Revenge": { genre: "Luta", year: 1999 },
"Guardian Heroes": { genre: "Beat 'em up/RPG", year: 1996 },
"Hokuto no Ken": { genre: "Luta", year: 1996 },
"In the Hunt": { genre: "Shoot 'em up", year: 1996 },
"Keio Flying Squadron 2": { genre: "Plataforma", year: 1996 },
"Magic Knight Rayearth": { genre: "RPG", year: 1998 },
"Marvel Super Heroes vs. Street Fighter": { genre: "Luta", year: 1998 },
"Mega Man 8": { genre: "Plataforma", year: 1997 },
"Metal Slug â€“ Super Vehicle-001": { genre: "AÃ§Ã£o", year: 1996 },
"Mortal Kombat Trilogy": { genre: "Luta", year: 1997 },
"NBA Jam â€“ Tournament Edition": { genre: "Esporte", year: 1996 },
"NiGHTS into Dreams": { genre: "AÃ§Ã£o", year: 1996 },
"Panzer Dragoon": { genre: "Shoot 'em up", year: 1995 },
"Panzer Dragoon II Zwei": { genre: "Shoot 'em up", year: 1996 },
"Pocket Fighter": { genre: "Luta", year: 1998 },
"Radiant Silvergun": { genre: "Shoot 'em up", year: 1998 },
"Rayman": { genre: "Plataforma", year: 1995 },
"Road Rash": { genre: "Corrida/AÃ§Ã£o", year: 1996 },
"Rockman X4": { genre: "Plataforma", year: 1997 },
"Saturn Bomberman": { genre: "AÃ§Ã£o", year: 1996 },
"Sega Rally Championship": { genre: "Corrida", year: 1995 },
"Segata Sanshirou â€“ Shinken Yuugi": { genre: "Mini Games", year: 1998 },
"Shining Wisdom": { genre: "RPG", year: 1995 },
"Shinobi-X": { genre: "AÃ§Ã£o", year: 1996 },
"Silhouette Mirage": { genre: "Plataforma/AÃ§Ã£o", year: 1997 },
"Snatcher": { genre: "Aventura", year: 1996 },
"Sonic Jam": { genre: "Plataforma", year: 1997 },
"Sonic R": { genre: "Corrida", year: 1997 },
"Street Fighter Zero 3": { genre: "Luta", year: 1999 },
"Super Puzzle Fighter II": { genre: "Puzzle", year: 1996 },
"The King of Fighters 95": { genre: "Luta", year: 1995 },
"The King of Fighters 96": { genre: "Luta", year: 1996 },
"The King of Fighters 97": { genre: "Luta", year: 1997 },
"Tomb Raiders": { genre: "AÃ§Ã£o/Aventura", year: 1997 },
"Vampire Savior": { genre: "Luta", year: 1998 },
"Virtua Fighter 2": { genre: "Luta", year: 1995 },
"Virtua Fighter Kids": { genre: "Luta", year: 1996 },
"Virtua Fighter Remix": { genre: "Luta", year: 1995 },
"Virtua Racing": { genre: "Corrida", year: 1995 },
"Waku Waku 7": { genre: "Luta", year: 1996 },
"World Heroes Perfect": { genre: "Luta", year: 1996 },
"WWF WrestleMania â€“ The Arcade Game": { genre: "Luta", year: 1995 },
"X-Men vs. Street Fighter": { genre: "Luta", year: 1998 }
"Yakyuuken Special": { genre: "Adulto / Party", year: 1996 },
  // adicionar mais detalhes aqui
};

const selectSound=document.getElementById("selectSound");
const starSound=document.getElementById("starSound");
const gameList=document.getElementById("gameList");
const counter=document.getElementById("counter");

function normalizeName(name){
  return name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[<>:\"/\\|?*]/g,'').trim();
}
function getRating(game){return parseInt(localStorage.getItem("rating_"+game))||0;}
function setRating(game,value){localStorage.setItem("rating_"+game,value);}

function createStars(game,container){
  const div=document.createElement("div");
  div.className="stars";
  let rating=getRating(game);

  for(let i=1;i<=5;i++){
    const star=document.createElement("span");
    star.innerHTML="â˜…";
    if(i<=rating)star.classList.add("active");
    star.onclick=(e)=>{
      e.stopPropagation();
      rating=i;
      setRating(game,i);
      starSound.currentTime=0; starSound.play();
      updateStars();
    };
    div.appendChild(star);
  }

  const num=document.createElement("div");
  num.className="rating-number";
  function updateStars(){
    div.querySelectorAll("span").forEach((s,i)=>s.classList.toggle("active",i<rating));
    num.innerText=rating?rating+"/5":"Sem nota";
  }
  updateStars();
  container.appendChild(div);
  container.appendChild(num);
}

function loadGames(){
  gameList.innerHTML="";
  const filteredGames = activeGames.filter(g=>!trashGames.includes(g));
  filteredGames.sort((a,b)=>a.localeCompare(b,'pt-BR'));

  filteredGames.forEach(name=>{
    const card=document.createElement("div");
    card.className="card";
    card.onclick=()=>{selectSound.currentTime=0; selectSound.play();};

    const img=document.createElement("img"); img.loading="lazy";
    const ext=["jpg","png","jfif"];
    const safe=normalizeName(name);
    function tryLoad(i=0){
      if(i>=ext.length){img.src="Img/nocover.jpg";return;}
      img.src=`Img/${safe}.${ext[i]}`;
      img.onerror=()=>tryLoad(i+1);
    }
    tryLoad();

    const p=document.createElement("p");
    p.innerText="ðŸ’¿ "+name;

    const del=document.createElement("button");
    del.innerText="ðŸ—‘"; del.className="delete-btn";
    del.onclick=(e)=>{
      e.stopPropagation();
      deleteGame(name);
    };

    card.appendChild(img); card.appendChild(p); card.appendChild(del);
    createStars(name,card);

    // Duplo clique / toque para screenshot
    card.ondblclick = ()=> openScreenshot(name);
    let lastTap=0;
    card.addEventListener("touchend", function(e){
      const currentTime=new Date().getTime();
      const tapLength=currentTime-lastTap;
      if(tapLength<500 && tapLength>0){ openScreenshot(name); e.preventDefault(); }
      lastTap=currentTime;
    });

    gameList.appendChild(card);
  });

  counter.innerText=filteredGames.length+" Jogos no Saroo De 64 GB";
}

function deleteGame(name){
  if(!confirm("Excluir '"+name+"'?")) return;
  trashGames.push(name);
  trashGames=[...new Set(trashGames)];
  localStorage.setItem("trashGames",JSON.stringify(trashGames));
  activeGames=activeGames.filter(g=>g!==name);
  localStorage.setItem("activeGames",JSON.stringify(activeGames));
  loadGames();
}

function restoreGame(name){
  trashGames = trashGames.filter(g=>g!==name);
  localStorage.setItem("trashGames",JSON.stringify(trashGames));
  if(!activeGames.includes(name)) activeGames.push(name);
  localStorage.setItem("activeGames",JSON.stringify(activeGames));
  loadGames();
  openTrash();
}

function openTrash(){
  const list=document.getElementById("trashList");
  list.innerHTML="";
  if(trashGames.length===0){ list.innerHTML="<p>Lixeira vazia</p>"; }
  else{
    trashGames.forEach(g=>{
      const div=document.createElement("div"); div.style.margin="5px";
      const span=document.createElement("span"); span.innerText=g;
      const btn=document.createElement("button"); btn.innerText="Restaurar"; btn.style.marginLeft="10px";
      btn.onclick=()=>restoreGame(g);
      div.appendChild(span); div.appendChild(btn); list.appendChild(div);
    });
  }
  document.getElementById("trashModal").style.display="flex";
}

function saveNewGame(){
  const val=document.getElementById("newGameInput").value.trim();
  if(!val || activeGames.includes(val)) return;
  activeGames.push(val);
  localStorage.setItem("activeGames",JSON.stringify(activeGames));
  selectSound.currentTime=0; selectSound.play();
  document.getElementById("newGameInput").value="";
  document.getElementById("gameModal").style.display="none";
  loadGames();
}

// Abrir screenshot com detalhes
function openScreenshot(gameName){
  const img=document.getElementById("screenshotImg");
  const title=document.getElementById("screenshotTitle");
  const genre=document.getElementById("screenshotGenre");
  const year=document.getElementById("screenshotYear");

  const safe=normalizeName(gameName);
  const ext=["jpg","png","jfif"];
  function tryLoad(i=0){
    if(i>=ext.length){ img.src="Img/nocover.jpg"; return; }
    img.src=`Screenshots/${safe}.${ext[i]}`;
    img.onerror=()=>tryLoad(i+1);
  }
  tryLoad();

  // Preencher informaÃ§Ãµes
  title.innerText = gameName;
  genre.innerText = "GÃªnero: " + (gameInfo[gameName]?.genre || "Desconhecido");
  year.innerText = "Ano: " + (gameInfo[gameName]?.year || "Desconhecido");

  const modal=document.getElementById("screenshotModal");
  modal.style.display="flex";
  modal.classList.remove("hide"); modal.classList.remove("show");
  void modal.offsetWidth;
  modal.classList.add("show");
}

// Fechar screenshot
document.getElementById("closeScreenshotBtn").onclick = function(){
  const modal=document.getElementById("screenshotModal");
  modal.classList.remove("show");
  modal.classList.add("hide");
  setTimeout(()=>{ modal.style.display="none"; modal.classList.remove("hide"); },300);
}

// Fechar screenshot com ESC
document.addEventListener("keydown", function(e){
  if(e.key === "Escape"){
    const modal = document.getElementById("screenshotModal");
    if(modal.style.display === "flex"){
      modal.classList.remove("show");
      modal.classList.add("hide");
      setTimeout(() => { modal.style.display="none"; modal.classList.remove("hide"); }, 300);
    }
  }
});

// Eventos
document.getElementById("trashBtn").onclick=openTrash;
document.getElementById("closeTrashBtn").onclick=()=>document.getElementById("trashModal").style.display="none";
document.getElementById("addGameBtn").onclick=()=>document.getElementById("gameModal").style.display="flex";
document.getElementById("cancelGameBtn").onclick=()=>document.getElementById("gameModal").style.display="none";
document.getElementById("saveGameBtn").onclick=saveNewGame;
document.getElementById("newGameInput").addEventListener("keypress",e=>{if(e.key==="Enter") saveNewGame();});
document.getElementById("searchBar").addEventListener("input",function(){
  const term=this.value.toLowerCase();
  document.querySelectorAll(".card").forEach(card=>{
    card.style.display=card.innerText.toLowerCase().includes(term)?"block":"none";
  });
});

// Inicializar
loadGames();
</script>
</body>
</html>

